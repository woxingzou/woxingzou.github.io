import{_ as r,c as d,a as p,b as n,w as e,d as s,r as k,o as c,e as i}from"./app-De7KtF01.js";const o={},g={class:"vp-file-tree"},y={class:"tree-node folder"},u={class:"tree-node folder"},A={class:"tree-node folder"},m={class:"tree-node folder"},D={class:"tree-node file"},v={class:"tree-node file"},b={class:"tree-node file"},f={class:"tree-node file"},B={class:"tree-node file"};function E(x,l){const a=k("VPIcon"),t=k("FileTreeItem"),h=k("VPCard");return c(),d("div",null,[l[15]||(l[15]=p('<div class="hint-container warning"><p class="hint-container-title">注意</p><p>以下操作都在Ubuntu环境下进行，也可在其他Linux系统下操作，但如果出现问题请自行解决。</p></div><div class="hint-container warning"><p class="hint-container-title">注意</p><p>使用non-root用户启动容器，默认当前用户，如有需要请自行更改</p></div><h2 id="docker工作目录树" tabindex="-1"><a class="header-anchor" href="#docker工作目录树"><span>docker工作目录树</span></a></h2>',3)),n(h,null,{default:e(()=>[s("div",g,[s("ul",null,[n(t,{type:"folder",expanded:!0,empty:!1},{default:e(()=>[s("span",y,[n(a,{name:"vscode-icons:default-folder"}),l[0]||(l[0]=s("span",{class:"name"},"docker",-1))]),s("ul",null,[n(t,{type:"folder",expanded:!0,empty:!1},{default:e(()=>[s("span",u,[n(a,{name:"vscode-icons:default-folder"}),l[1]||(l[1]=s("span",{class:"name"},"nginx",-1))]),s("ul",null,[n(t,{type:"folder",expanded:!0,empty:!1},{default:e(()=>[s("span",A,[n(a,{name:"vscode-icons:folder-type-config"}),l[2]||(l[2]=s("span",{class:"name"},"conf",-1))]),s("ul",null,[n(t,{type:"folder",expanded:!0,empty:!1},{default:e(()=>[s("span",m,[n(a,{name:"vscode-icons:default-folder"}),l[3]||(l[3]=s("span",{class:"name"},"conf.d",-1))]),s("ul",null,[n(t,{type:"file",expanded:!1,empty:!0},{default:e(()=>[s("span",D,[n(a,{name:"vscode-icons:file-type-config"}),l[4]||(l[4]=s("span",{class:"name"},"default.conf",-1))])]),_:1})])]),_:1}),n(t,{type:"file",expanded:!1,empty:!0},{default:e(()=>[s("span",v,[n(a,{name:"vscode-icons:file-type-config"}),l[5]||(l[5]=s("span",{class:"name"},"nginx.conf",-1))])]),_:1})])]),_:1}),n(t,{type:"file",expanded:!1,empty:!0},{default:e(()=>[s("span",b,[n(a,{name:"vscode-icons:file-type-docker"}),l[6]||(l[6]=s("span",{class:"name"},"Dockerfile",-1))])]),_:1})])]),_:1}),n(t,{type:"file",expanded:!1,empty:!0},{default:e(()=>[s("span",f,[n(a,{name:"vscode-icons:file-type-light-yaml"}),l[7]||(l[7]=s("span",{class:"name"},"compose.yaml",-1))])]),_:1}),n(t,{type:"file",expanded:!1,empty:!0},{default:e(()=>[s("span",B,[n(a,{name:"vscode-icons:file-type-dotenv"}),l[8]||(l[8]=s("span",{class:"name"},".env",-1))])]),_:1})])]),_:1})])])]),_:1}),l[16]||(l[16]=s("h2",{id:"新建docker工作目录",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#新建docker工作目录"},[s("span",null,"新建docker工作目录")])],-1)),n(h,null,{default:e(()=>l[9]||(l[9]=[s("div",{class:"language-shell line-numbers-mode","data-ext":"shell","data-title":"shell"},[s("button",{class:"copy",title:"复制代码","data-copied":"已复制"}),s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"mkdir"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," -p"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," docker"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," &&"),s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}}," cd"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," docker")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"})])],-1)])),_:1}),l[17]||(l[17]=s("h2",{id:"创建dockerfile用来自定义构建容器",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#创建dockerfile用来自定义构建容器"},[s("span",null,"创建Dockerfile用来自定义构建容器")])],-1)),n(h,null,{default:e(()=>l[10]||(l[10]=[s("div",{class:"vp-steps"},[s("ol",null,[s("li",null,"新建nginx目录、conf配置目录")]),s("div",{class:"language-shell line-numbers-mode","data-ext":"shell","data-title":"shell"},[s("button",{class:"copy",title:"复制代码","data-copied":"已复制"}),s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"mkdir"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," -p"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," nginx"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," &&"),s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}}," cd"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," nginx")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"mkdir"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," -p"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," conf/conf.d")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"})])]),s("ol",{start:"2"},[s("li",null,"创建nginx.conf和default.conf配置文件")]),s("div",{class:"hint-container warning"},[s("p",{class:"hint-container-title"},"注意"),s("p",null,"注意目录结构")]),s("details",{class:"hint-container details"},[s("summary",null,"点我查看nginx.conf配置"),s("div",{class:"language-nginx line-numbers-mode","data-ext":"nginx","data-title":"nginx"},[s("button",{class:"copy",title:"复制代码","data-copied":"已复制"}),s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"# user  nginx;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"worker_processes "),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," auto"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"error_log "),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," /nginx/log/error.log "),s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"notice"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"pid "),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"       /nginx/nginx.pid"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"events"),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"    worker_connections "),s("span",{style:{"--shiki-light":"#2F798A","--shiki-dark":"#4C9A91"}}," 1024"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"http"),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"    include "),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"      /etc/nginx/mime.types"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"    default_type "),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," application/octet-stream"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"    log_format "),s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}}," main"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"  '"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"$"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"remote_addr - "),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"$"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"remote_user ["),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"$"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},'time_local] "'),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"$"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},`request" '`)]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"                      '"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"$"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"status "),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"$"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},'body_bytes_sent "'),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"$"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},`http_referer" '`)]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},`                      '"`),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"$"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},'http_user_agent" "'),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"$"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},`http_x_forwarded_for"'`),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"    access_log "),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," /nginx/log/access.log  "),s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"main"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"    sendfile "),s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"       on"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    #tcp_nopush     on;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"    keepalive_timeout "),s("span",{style:{"--shiki-light":"#2F798A","--shiki-dark":"#4C9A91"}}," 65"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    ##")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    # SSL Settings")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    ##")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"    ssl_protocols "),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"TLSv1 TLSv1.1 TLSv1.2 TLSv1.3"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";"),s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}}," # Dropping SSLv3, ref: POODLE")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"    ssl_prefer_server_ciphers on"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    ##")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    # Gzip Settings")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    ##")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"    gzip "),s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}}," on"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"    gzip_min_length "),s("span",{style:{"--shiki-light":"#2F798A","--shiki-dark":"#4C9A91"}},"1k"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";"),s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"     # 设置允许压缩的页面最小字节数")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"    gzip_buffers "),s("span",{style:{"--shiki-light":"#2F798A","--shiki-dark":"#4C9A91"}},"4"),s("span",{style:{"--shiki-light":"#2F798A","--shiki-dark":"#4C9A91"}}," 16k"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";"),s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"     # 用来存储 gzip 的压缩结果")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"    gzip_http_version "),s("span",{style:{"--shiki-light":"#2F798A","--shiki-dark":"#4C9A91"}},"1.1"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";"),s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"  # 识别 HTTP 协议版本")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"    gzip_comp_level "),s("span",{style:{"--shiki-light":"#2F798A","--shiki-dark":"#4C9A91"}},"2"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";"),s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"      # 设置 gzip 的压缩比 1-9. 1 压缩比最小但最快, 而 9 相反")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"    gzip_types "),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"text/plain application/x-javascript text/css application/xml application/javascript"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";"),s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}}," # 指定压缩类型")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"    gzip_proxied "),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"any"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";"),s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"       # 无论后端服务器的 headers 头返回什么信息，都无条件启用压缩")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    # gzip_vary on;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    # gzip_proxied any;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    # gzip_comp_level 6;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    # gzip_buffers 16 8k;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    # gzip_http_version 1.1;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    # gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    ##")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    # Virtual Host Configs")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    ##")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"    include "),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"/etc/nginx/conf.d/*.conf"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"}")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])])]),s("details",{class:"hint-container details"},[s("summary",null,"点我查看default.conf配置"),s("div",{class:"language-nginx line-numbers-mode","data-ext":"nginx","data-title":"nginx"},[s("button",{class:"copy",title:"复制代码","data-copied":"已复制"}),s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"server"),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"    listen "),s("span",{style:{"--shiki-light":"#2F798A","--shiki-dark":"#4C9A91"}},"      80"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"    listen "),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," [::]:80"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"    server_name "),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," localhost"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    #access_log  /var/log/nginx/host.access.log  main;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"    location"),s("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}}," / "),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"{")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"        root "),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"  /usr/share/nginx/html"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"        index "),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," index.html index.htm"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"    }")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    #error_page  404              /404.html;")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    # redirect server error pages to the static page /50x.html")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    #")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"    error_page "),s("span",{style:{"--shiki-light":"#2F798A","--shiki-dark":"#4C9A91"}},"  500"),s("span",{style:{"--shiki-light":"#2F798A","--shiki-dark":"#4C9A91"}}," 502"),s("span",{style:{"--shiki-light":"#2F798A","--shiki-dark":"#4C9A91"}}," 503"),s("span",{style:{"--shiki-light":"#2F798A","--shiki-dark":"#4C9A91"}}," 504"),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"  /50x.html"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}},"    location"),s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}}," ="),s("span",{style:{"--shiki-light":"#AB5E3F","--shiki-dark":"#C4704F"}}," /50x.html "),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"{")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"        root "),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"  /usr/share/nginx/html"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},";")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"    }")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    # proxy the PHP scripts to Apache listening on 127.0.0.1:80")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    #")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    #location ~ \\.php$ {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    #    proxy_pass   http://127.0.0.1;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    #}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    #")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    #location ~ \\.php$ {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    #    root           html;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    #    fastcgi_pass   127.0.0.1:9000;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    #    fastcgi_index  index.php;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    #    include        fastcgi_params;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    #}")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    # deny access to .htaccess files, if Apache's document root")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    # concurs with nginx's one")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    #")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    #location ~ /\\.ht {")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    #    deny  all;")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    #}")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}},"}")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])])]),s("ol",{start:"3"},[s("li",null,"创建Dockerfile文件")]),s("div",{class:"language-dockerfile line-numbers-mode","data-ext":"dockerfile","data-title":"dockerfile"},[s("button",{class:"copy",title:"复制代码","data-copied":"已复制"}),s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"FROM"),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," nginx:1.27.3-alpine")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"ARG"),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," UID")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"ARG"),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," GID")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"RUN"),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," chown -R $UID:$GID /var/cache/nginx")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])])],-1)])),_:1}),l[18]||(l[18]=s("h2",{id:"创建docker-compose配置文件-compose-yaml",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#创建docker-compose配置文件-compose-yaml"},[s("span",null,"创建docker compose配置文件 compose.yaml")])],-1)),n(h,null,{default:e(()=>l[11]||(l[11]=[s("div",{class:"hint-container warning"},[s("p",{class:"hint-container-title"},"注意"),s("ul",null,[s("li",null,[i("数据卷都挂载在 "),s("strong",null,"${HOME}/data/nginx"),i(" 目录下，请提前创建好对应目录，也可自行修改挂载目录")]),s("li",null,[s("strong",null,"nginx.conf"),i(" 配置文件需要拷贝到 "),s("strong",null,"${HOME}/data/nginx/conf"),i(" 目录下")]),s("li",null,[s("strong",null,"default.conf"),i(" 配置文件需要拷贝到 "),s("strong",null,"${HOME}/data/nginx/conf/conf.d"),i(" 目录下")])]),s("div",{class:"language-shell line-numbers-mode","data-ext":"shell","data-title":"shell"},[s("button",{class:"copy",title:"复制代码","data-copied":"已复制"}),s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"mkdir"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," -p"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," ${"),s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"HOME"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"}"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"/data/nginx")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"mkdir"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," -p"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," ${"),s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"HOME"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"}"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"/data/nginx/conf/conf.d")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"})])])],-1),s("div",{class:"language-yaml line-numbers-mode","data-ext":"yaml","data-title":"yaml"},[s("button",{class:"copy",title:"复制代码","data-copied":"已复制"}),s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"services"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"  nginx"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"    build"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":"),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," ")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"      context"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," nginx")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"      dockerfile"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," Dockerfile")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"      args"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"        UID"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," ${UID}")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"        GID"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," ${GID}")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"    image"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," nginx:1.27.3-alpine")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"    container_name"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," nginx")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"    restart"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," always")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"    # non-root users are not allowed to bind to ports below 1024")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},'    # network_mode: "host"')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"    user"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," ${UID}:${GID}")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"    networks"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"      -"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," docker_net0")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"    ports"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"      -"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," 80:80")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"      -"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," 443:443")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"    environment"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"      TZ"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," Asia/Shanghai")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"    volumes"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"      # nginx目录挂载")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"      -"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," ${HOME}/data/nginx:/nginx")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"      # 配置文件挂载")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"      -"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," ${HOME}/data/nginx/conf/nginx.conf:/etc/nginx/nginx.conf")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"      # 配置目录挂载")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"      -"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," ${HOME}/data/nginx/conf/conf.d:/etc/nginx/conf.d")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"networks"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"  # 自定义一个桥接网络")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"  docker_net0"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),_:1}),l[19]||(l[19]=s("h2",{id:"构建并启动",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#构建并启动"},[s("span",null,"构建并启动")])],-1)),n(h,null,{default:e(()=>l[12]||(l[12]=[s("div",{class:"language-shell line-numbers-mode","data-ext":"shell","data-title":"shell"},[s("button",{class:"copy",title:"复制代码","data-copied":"已复制"}),s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"echo"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," -e"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},' "'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"UID="),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"$("),s("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"id"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," -u"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},")"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"\\nGID="),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"$("),s("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"id"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," -g"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},")"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}}," >"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," .env")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"docker"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," compose"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," up"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," --build"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," -d"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," nginx")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),_:1}),l[20]||(l[20]=s("h2",{id:"访问nginx",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#访问nginx"},[s("span",null,"访问Nginx")])],-1)),n(h,null,{default:e(()=>l[13]||(l[13]=[s("p",null,"浏览器访问 http://localhost",-1)])),_:1}),l[21]||(l[21]=s("h2",{id:"参考",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#参考"},[s("span",null,"参考")])],-1)),n(h,null,{default:e(()=>l[14]||(l[14]=[s("ul",null,[s("li",null,[s("a",{href:"https://docs.docker.com/manuals",target:"_blank",rel:"noopener noreferrer"},"Docker官方手册")]),s("li",null,[s("a",{href:"https://docs.docker.com/reference",target:"_blank",rel:"noopener noreferrer"},"Docker官方参考文档")])],-1)])),_:1})])}const _=r(o,[["render",E],["__file","index.html.vue"]]),F=JSON.parse('{"path":"/article/hzkb43o4/","title":"Docker安装nginx","lang":"zh-CN","frontmatter":{"title":"Docker安装nginx","tags":["docker","nginx"],"createTime":"2024/12/26 17:03:46","permalink":"/article/hzkb43o4/","description":"注意 以下操作都在Ubuntu环境下进行，也可在其他Linux系统下操作，但如果出现问题请自行解决。 注意 使用non-root用户启动容器，默认当前用户，如有需要请自行更改 docker工作目录树 新建docker工作目录 创建Dockerfile用来自定义构建容器 创建docker compose配置文件 compose.yaml 构建并启动 访问...","head":[["meta",{"property":"og:url","content":"https://blog.shaocz.me/article/hzkb43o4/"}],["meta",{"property":"og:site_name","content":"未眠的蓝鸟"}],["meta",{"property":"og:title","content":"Docker安装nginx"}],["meta",{"property":"og:description","content":"注意 以下操作都在Ubuntu环境下进行，也可在其他Linux系统下操作，但如果出现问题请自行解决。 注意 使用non-root用户启动容器，默认当前用户，如有需要请自行更改 docker工作目录树 新建docker工作目录 创建Dockerfile用来自定义构建容器 创建docker compose配置文件 compose.yaml 构建并启动 访问..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-01-09T01:49:18.000Z"}],["meta",{"property":"article:tag","content":"docker"}],["meta",{"property":"article:tag","content":"nginx"}],["meta",{"property":"article:modified_time","content":"2025-01-09T01:49:18.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Docker安装nginx\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-01-09T01:49:18.000Z\\",\\"author\\":[]}"]]},"headers":[],"readingTime":{"minutes":2.34,"words":702},"git":{"updatedTime":1736387358000,"contributors":[{"name":"huaihuashu","username":"huaihuashu","email":"october4th@88.com","commits":3,"avatar":"https://avatars.githubusercontent.com/huaihuashu?v=4","url":"https://github.com/huaihuashu"},{"name":"huaihuashu","username":"huaihuashu","email":"778559256@qq.com","commits":1,"avatar":"https://avatars.githubusercontent.com/huaihuashu?v=4","url":"https://github.com/huaihuashu"}]},"autoDesc":true,"filePathRelative":"docker/Docker安装nginx.md","categoryList":[{"id":"05b605","sort":10000,"name":"docker"}],"bulletin":false}');export{_ as comp,F as data};
