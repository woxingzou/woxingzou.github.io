import{_ as h,c as p,a as k,b as e,w as n,d as s,r as d,o as c,e as i}from"./app-DHr9dGKh.js";const o={},u={class:"vp-file-tree"},m={class:"tree-node folder"},y={class:"tree-node folder"},g={class:"tree-node folder"},v={class:"tree-node file"},b={class:"tree-node folder"},f={class:"tree-node file"},A={class:"tree-node file"},D={class:"tree-node file"},B={class:"tree-node file"},q={class:"tree-node file"};function _(C,l){const a=d("VPIcon"),t=d("FileTreeItem"),r=d("VPCard");return c(),p("div",null,[l[15]||(l[15]=k('<div class="hint-container warning"><p class="hint-container-title">注意</p><p>以下操作都在Ubuntu环境下进行，也可在其他Linux系统下操作，但如果出现问题请自行解决。</p></div><div class="hint-container warning"><p class="hint-container-title">注意</p><p>使用non-root用户启动容器，默认当前用户，如有需要请自行更改</p></div><h2 id="docker工作目录树" tabindex="-1"><a class="header-anchor" href="#docker工作目录树"><span>docker工作目录树</span></a></h2>',3)),e(r,null,{default:n(()=>[s("div",u,[s("ul",null,[e(t,{type:"folder",expanded:!0,empty:!1},{default:n(()=>[s("span",m,[e(a,{name:"vscode-icons:default-folder"}),l[0]||(l[0]=s("span",{class:"name"},"docker",-1))]),s("ul",null,[e(t,{type:"folder",expanded:!0,empty:!1},{default:n(()=>[s("span",y,[e(a,{name:"vscode-icons:default-folder"}),l[1]||(l[1]=s("span",{class:"name"},"mysql",-1))]),s("ul",null,[e(t,{type:"folder",expanded:!0,empty:!1},{default:n(()=>[s("span",g,[e(a,{name:"vscode-icons:folder-type-config"}),l[2]||(l[2]=s("span",{class:"name"},"conf",-1))]),s("ul",null,[e(t,{type:"file",expanded:!1,empty:!0},{default:n(()=>[s("span",v,[e(a,{name:"vscode-icons:default-file"}),l[3]||(l[3]=s("span",{class:"name"},"my.cnf",-1))])]),_:1})])]),_:1}),e(t,{type:"folder",expanded:!0,empty:!1},{default:n(()=>[s("span",b,[e(a,{name:"vscode-icons:folder-type-db"}),l[4]||(l[4]=s("span",{class:"name"},"sql",-1))]),s("ul",null,[e(t,{type:"file",expanded:!1,empty:!0},{default:n(()=>[s("span",f,[e(a,{name:"vscode-icons:file-type-sql"}),l[5]||(l[5]=s("span",{class:"name"},"xxx.sql",-1))])]),_:1}),e(t,{type:"file",expanded:!1,empty:!0},{default:n(()=>[s("span",A,[e(a,{name:"vscode-icons:file-type-sql"}),l[6]||(l[6]=s("span",{class:"name"},"xxx.sql",-1))])]),_:1})])]),_:1}),e(t,{type:"file",expanded:!1,empty:!0},{default:n(()=>[s("span",D,[e(a,{name:"vscode-icons:file-type-docker"}),l[7]||(l[7]=s("span",{class:"name"},"Dockerfile",-1))])]),_:1})])]),_:1}),e(t,{type:"file",expanded:!1,empty:!0},{default:n(()=>[s("span",B,[e(a,{name:"vscode-icons:file-type-light-yaml"}),l[8]||(l[8]=s("span",{class:"name"},"compose.yaml",-1))])]),_:1}),e(t,{type:"file",expanded:!1,empty:!0},{default:n(()=>[s("span",q,[e(a,{name:"vscode-icons:file-type-dotenv"}),l[9]||(l[9]=s("span",{class:"name"},".env",-1))])]),_:1})])]),_:1})])])]),_:1}),l[16]||(l[16]=s("h2",{id:"新建docker工作目录",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#新建docker工作目录"},[s("span",null,"新建docker工作目录")])],-1)),e(r,null,{default:n(()=>l[10]||(l[10]=[s("div",{class:"language-shell line-numbers-mode","data-ext":"shell","data-title":"shell"},[s("button",{class:"copy",title:"复制代码","data-copied":"已复制"}),s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"mkdir"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," -p"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," docker"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," &&"),s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}}," cd"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," docker")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"})])],-1)])),_:1}),l[17]||(l[17]=s("h2",{id:"创建dockerfile用来自定义构建容器",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#创建dockerfile用来自定义构建容器"},[s("span",null,"创建Dockerfile用来自定义构建容器")])],-1)),e(r,null,{default:n(()=>l[11]||(l[11]=[s("div",{class:"vp-steps"},[s("ol",null,[s("li",null,"新建mysql目录、conf配置文件目录、sql脚本目录（可选）")]),s("div",{class:"language-shell line-numbers-mode","data-ext":"shell","data-title":"shell"},[s("button",{class:"copy",title:"复制代码","data-copied":"已复制"}),s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"mkdir"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," -p"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," mysql"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," &&"),s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}}," cd"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," mysql")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"mkdir"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," -p"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," conf")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"mkdir"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," -p"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," sql"),s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}}," # 可选")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])]),s("div",{class:"hint-container tip"},[s("p",{class:"hint-container-title"},"提示"),s("p",null,[i("可以把建表sql脚本放入 "),s("strong",null,"mysql/sql"),i(" 目录下，在Dockerfile中使用 "),s("strong",null,"COPY sql/*.sql /docker-entrypoint-initdb.d/"),i(" 语句将脚本拷贝到容器内，mysql容器启动时会自动帮你执行。但需要设置 "),s("strong",null,"MYSQL_DATABASE"),i(" 环境变量，否则无法找到数据库执行sql脚本")])]),s("ol",{start:"2"},[s("li",null,"conf目录下新建配置文件my.cnf")]),s("div",{class:"hint-container tip"},[s("p",{class:"hint-container-title"},"提示"),s("div",{class:"language-shell line-numbers-mode","data-ext":"shell","data-title":"shell"},[s("button",{class:"copy",title:"复制代码","data-copied":"已复制"}),s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"vim"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," conf/my.cnf")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"})])])]),s("details",{class:"hint-container details"},[s("summary",null,"点我查看mysql.cnf配置"),s("div",{class:"language- line-numbers-mode","data-ext":"","data-title":""},[s("button",{class:"copy",title:"复制代码","data-copied":"已复制"}),s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",null,"# For advice on how to change settings please see")]),i(`
`),s("span",{class:"line"},[s("span",null,"# http://dev.mysql.com/doc/refman/8.0/en/server-configuration-defaults.html")]),i(`
`),s("span",{class:"line"},[s("span")]),i(`
`),s("span",{class:"line"},[s("span",null,"[mysql]")]),i(`
`),s("span",{class:"line"},[s("span")]),i(`
`),s("span",{class:"line"},[s("span",null,"default-character_set=utf8mb4")]),i(`
`),s("span",{class:"line"},[s("span")]),i(`
`),s("span",{class:"line"},[s("span",null,"[mysqld]")]),i(`
`),s("span",{class:"line"},[s("span",null,"#")]),i(`
`),s("span",{class:"line"},[s("span",null,"# Remove leading # and set to the amount of RAM for the most important data")]),i(`
`),s("span",{class:"line"},[s("span",null,"# cache in MySQL. Start at 70% of total RAM for dedicated server, else 10%.")]),i(`
`),s("span",{class:"line"},[s("span",null,"# innodb_buffer_pool_size = 128M")]),i(`
`),s("span",{class:"line"},[s("span",null,"#")]),i(`
`),s("span",{class:"line"},[s("span",null,"# Remove leading # to turn on a very important data integrity option: logging")]),i(`
`),s("span",{class:"line"},[s("span",null,"# changes to the binary log between backups.")]),i(`
`),s("span",{class:"line"},[s("span",null,"# log_bin")]),i(`
`),s("span",{class:"line"},[s("span",null,"#")]),i(`
`),s("span",{class:"line"},[s("span",null,"# Remove leading # to set options mainly useful for reporting servers.")]),i(`
`),s("span",{class:"line"},[s("span",null,"# The server defaults are faster for transactions and fast SELECTs.")]),i(`
`),s("span",{class:"line"},[s("span",null,"# Adjust sizes as needed, experiment to find the optimal values.")]),i(`
`),s("span",{class:"line"},[s("span",null,"# join_buffer_size = 128M")]),i(`
`),s("span",{class:"line"},[s("span",null,"# sort_buffer_size = 2M")]),i(`
`),s("span",{class:"line"},[s("span",null,"# read_rnd_buffer_size = 2M")]),i(`
`),s("span",{class:"line"},[s("span")]),i(`
`),s("span",{class:"line"},[s("span",null,"# Remove leading # to revert to previous value for default_authentication_plugin,")]),i(`
`),s("span",{class:"line"},[s("span",null,"# this will increase compatibility with older clients. For background, see:")]),i(`
`),s("span",{class:"line"},[s("span",null,"# https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_default_authentication_plugin")]),i(`
`),s("span",{class:"line"},[s("span",null,"# default-authentication-plugin=mysql_native_password")]),i(`
`),s("span",{class:"line"},[s("span",null,"skip-host-cache")]),i(`
`),s("span",{class:"line"},[s("span",null,"skip-name-resolve")]),i(`
`),s("span",{class:"line"},[s("span",null,"datadir=/var/lib/mysql")]),i(`
`),s("span",{class:"line"},[s("span",null,"socket=/var/run/mysqld/mysqld.sock")]),i(`
`),s("span",{class:"line"},[s("span",null,"secure-file-priv=/var/lib/mysql-files")]),i(`
`),s("span",{class:"line"},[s("span",null,"user=mysql")]),i(`
`),s("span",{class:"line"},[s("span",null,"# 表名忽略大小写")]),i(`
`),s("span",{class:"line"},[s("span",null,"lower_case_table_names=1")]),i(`
`),s("span",{class:"line"},[s("span",null,"# 设置字符集")]),i(`
`),s("span",{class:"line"},[s("span",null,"character-set-server=utf8mb4")]),i(`
`),s("span",{class:"line"},[s("span",null,"# 设置排序规则")]),i(`
`),s("span",{class:"line"},[s("span",null,"collation-server=utf8mb4_general_ci")]),i(`
`),s("span",{class:"line"},[s("span")]),i(`
`),s("span",{class:"line"},[s("span",null,"pid-file=/var/run/mysqld/mysqld.pid")]),i(`
`),s("span",{class:"line"},[s("span",null,"[client]")]),i(`
`),s("span",{class:"line"},[s("span",null,"socket=/var/run/mysqld/mysqld.sock")]),i(`
`),s("span",{class:"line"},[s("span")]),i(`
`),s("span",{class:"line"},[s("span",null,"default-character_set=utf8mb4")]),i(`
`),s("span",{class:"line"},[s("span")]),i(`
`),s("span",{class:"line"},[s("span",null,"!includedir /etc/mysql/conf.d/")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])])]),s("div",{class:"hint-container tip"},[s("p",{class:"hint-container-title"},"提示"),s("p",null,"配置文件是从mysql容器内拷贝出来的，只添加了字符集和排序规则，如有其他配置可自行添加")]),s("ol",{start:"3"},[s("li",null,"创建Dockerfile文件")]),s("div",{class:"language-dockerfile line-numbers-mode","data-ext":"dockerfile","data-title":"dockerfile"},[s("button",{class:"copy",title:"复制代码","data-copied":"已复制"}),s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"FROM"),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," mysql:8.0.40")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#1E754F","--shiki-dark":"#4D9375"}},"COPY"),s("span",{style:{"--shiki-light":"#393A34","--shiki-dark":"#DBD7CAEE"}}," sql/*.sql /docker-entrypoint-initdb.d/ # 如果不需要可删除")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])])],-1)])),_:1}),l[18]||(l[18]=s("h2",{id:"创建docker-compose配置文件-compose-yaml",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#创建docker-compose配置文件-compose-yaml"},[s("span",null,"创建docker compose配置文件 compose.yaml")])],-1)),e(r,null,{default:n(()=>l[12]||(l[12]=[s("div",{class:"hint-container warning"},[s("p",{class:"hint-container-title"},"注意"),s("ul",null,[s("li",null,[i("数据卷都挂载在 "),s("strong",null,"${HOME}/data/mysql"),i(" 目录下，请提前创建好对应目录，也可自行修改挂载目录")]),s("li",null,[s("strong",null,"mysql.cnf"),i(" 配置文件需要拷贝到 "),s("strong",null,"${HOME}/data/mysql/conf"),i(" 目录下")])]),s("div",{class:"language-shell line-numbers-mode","data-ext":"shell","data-title":"shell"},[s("button",{class:"copy",title:"复制代码","data-copied":"已复制"}),s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"mkdir"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," -p"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," ${"),s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"HOME"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"}"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"/data/mysql/conf")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"mkdir"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," -p"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," ${"),s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"HOME"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"}"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"/data/mysql/log")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"mkdir"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," -p"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," ${"),s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"HOME"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"}"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"/data/mysql/data")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])])],-1),s("div",{class:"language-yaml line-numbers-mode","data-ext":"yaml","data-title":"yaml"},[s("button",{class:"copy",title:"复制代码","data-copied":"已复制"}),s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"services"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"  mysql"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"    build"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"      context"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," mysql")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"      dockerfile"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," Dockerfile")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"    image"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," mysql:8.0.40")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"    container_name"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," mysql")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"    restart"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," always")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"    user"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," ${UID}:${GID}")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"    networks"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"      -"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," docker_net0")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"    ports"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"      -"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," 3306:3306")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"    environment"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"      TZ"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," Asia/Shanghai")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"      # ROOT密码请自行更改")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"      MYSQL_ROOT_PASSWORD"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," ${MYSQL_ROOT_PASSWORD:-admin@123456}")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"      MYSQL_DATABASE"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," ${MYSQL_DATABASE:-wordpress}")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"    command"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"      # 将mysql8.0默认密码策略 修改为 原先 策略 (mysql8.0对其默认策略做了更改 会导致密码无法匹配)")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"      --default-authentication-plugin=mysql_native_password")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"      --explicit_defaults_for_timestamp=true")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"    volumes"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"      # 数据挂载")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"      -"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," ${HOME}/data/mysql/data:/var/lib/mysql")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"      # 配置挂载")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"      -"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," ${HOME}/data/mysql/conf/my.cnf:/etc/my.cnf")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"      # 日志挂载")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"      -"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," ${HOME}/data/mysql/log:/var/log/mysql")]),i(`
`),s("span",{class:"line"}),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"networks"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"  # 自定义一个桥接网络")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"  docker_net0"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),_:1}),l[19]||(l[19]=s("h2",{id:"构建并启动",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#构建并启动"},[s("span",null,"构建并启动")])],-1)),e(r,null,{default:n(()=>l[13]||(l[13]=[s("div",{class:"language-shell line-numbers-mode","data-ext":"shell","data-title":"shell"},[s("button",{class:"copy",title:"复制代码","data-copied":"已复制"}),s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"echo"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," -e"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},' "'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"UID="),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"$("),s("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"id"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," -u"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},")"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"\\nGID="),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"$("),s("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"id"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," -g"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},")"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"'),s("span",{style:{"--shiki-light":"#AB5959","--shiki-dark":"#CB7676"}}," >"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," .env")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"docker"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," compose"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," up"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," --build"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," -d"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," mysql")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),_:1}),l[20]||(l[20]=s("h2",{id:"参考",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#参考"},[s("span",null,"参考")])],-1)),e(r,null,{default:n(()=>l[14]||(l[14]=[s("ul",null,[s("li",null,[s("a",{href:"https://docs.docker.com/manuals",target:"_blank",rel:"noopener noreferrer"},"Docker官方手册")]),s("li",null,[s("a",{href:"https://docs.docker.com/reference/",target:"_blank",rel:"noopener noreferrer"},"Docker官方参考文档")])],-1)])),_:1})])}const E=h(o,[["render",_],["__file","index.html.vue"]]),M=JSON.parse('{"path":"/article/xqrdneix/","title":"Docker安装mysql","lang":"zh-CN","frontmatter":{"title":"Docker安装mysql","tags":["docker","mysql"],"createTime":"2024/12/26 09:05:02","permalink":"/article/xqrdneix/","description":"注意 以下操作都在Ubuntu环境下进行，也可在其他Linux系统下操作，但如果出现问题请自行解决。 注意 使用non-root用户启动容器，默认当前用户，如有需要请自行更改 docker工作目录树 新建docker工作目录 创建Dockerfile用来自定义构建容器 创建docker compose配置文件 compose.yaml 构建并启动 参考","head":[["meta",{"property":"og:url","content":"https://blog.shaocz.me/article/xqrdneix/"}],["meta",{"property":"og:site_name","content":"未眠的蓝鸟"}],["meta",{"property":"og:title","content":"Docker安装mysql"}],["meta",{"property":"og:description","content":"注意 以下操作都在Ubuntu环境下进行，也可在其他Linux系统下操作，但如果出现问题请自行解决。 注意 使用non-root用户启动容器，默认当前用户，如有需要请自行更改 docker工作目录树 新建docker工作目录 创建Dockerfile用来自定义构建容器 创建docker compose配置文件 compose.yaml 构建并启动 参考"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-01-09T01:49:18.000Z"}],["meta",{"property":"article:tag","content":"docker"}],["meta",{"property":"article:tag","content":"mysql"}],["meta",{"property":"article:modified_time","content":"2025-01-09T01:49:18.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Docker安装mysql\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-01-09T01:49:18.000Z\\",\\"author\\":[]}"]]},"headers":[],"readingTime":{"minutes":2.45,"words":734},"git":{"updatedTime":1736387358000,"contributors":[{"name":"huaihuashu","username":"huaihuashu","email":"october4th@88.com","commits":6,"avatar":"https://avatars.githubusercontent.com/huaihuashu?v=4","url":"https://github.com/huaihuashu"},{"name":"huaihuashu","username":"huaihuashu","email":"778559256@qq.com","commits":1,"avatar":"https://avatars.githubusercontent.com/huaihuashu?v=4","url":"https://github.com/huaihuashu"}]},"autoDesc":true,"filePathRelative":"docker/Docker安装mysql.md","categoryList":[{"id":"05b605","sort":10001,"name":"docker"}],"bulletin":false}');export{E as comp,M as data};
